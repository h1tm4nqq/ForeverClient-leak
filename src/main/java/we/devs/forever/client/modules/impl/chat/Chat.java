package we.devs.forever.client.modules.impl.chat;

import net.minecraft.client.gui.ChatLine;
import net.minecraft.network.play.client.CPacketChatMessage;
import we.devs.forever.api.event.events.network.PacketEvent;
import we.devs.forever.api.event.events.render.TotemPopEvent;
import we.devs.forever.api.event.eventsys.annotated.handler.annotation.EventListener;
import we.devs.forever.api.util.client.TimerUtil;
import we.devs.forever.api.util.render.animation.TimeAnimation;
import we.devs.forever.api.util.render.util.TextUtil;
import we.devs.forever.client.command.api.Command;
import we.devs.forever.client.modules.api.Module;
import we.devs.forever.client.setting.Setting;
import we.devs.forever.client.ui.foreverClientGui.components.items.buttons.ColorPickerButton;

import java.awt.*;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Random;

public class Chat extends Module {
    private static Chat INSTANCE = new Chat();
    private final TimerUtil timer = new TimerUtil();

    public static Setting<Suffix> suffix = new Setting<>("Suffix", Suffix.None, "Your Suffix.");
    public static Setting<String> customSuffix = new Setting<>("Custom", "| Forever Client", v -> suffix.getValue() == Suffix.Custom);
    public static Setting<CustomColor> customColor = new Setting<>("CustomText", CustomColor.None);
    public static Setting<TextMod> textMod= new Setting<>("TextMod", TextMod.None);
    public static Setting<Boolean> popLag = new Setting<>("PopLag", false);
    public static Setting<Boolean> loadPopLag = new Setting<>("LoadPopLag", false);

    public static Setting<Boolean> animation = new Setting<>("Animation", true);

    public static Setting<Integer> time = new Setting<>("Time", 200, 0, 500, v -> animation.getValue());
    public static Setting<Boolean> timeStamps = new Setting<>("TimeStamps", true);
    // public static Setting<Rainbow> rsinbowMode = new Setting<>("ColorMode", Rainbow.Rainbow, v-> timeStamps.getValue());
    //  public static Setting<Color> timeStampsColor = new Setting<>("TimeStampsColor", new Color(253, 0, 220, 255), true, 100, v-> rsinbowMode.getValue().equals(Rainbow.Custom) && timeStamps.getValue());
    public static Setting<BGMode> bgMode = new Setting<>("BGChatMode", BGMode.Default, "Cleans your chat");
    public static Setting<Color> bgColor = new Setting<>("ChatBGColor", new Color(0, 0, 0, 100), ColorPickerButton.Mode.Rainbow, 100, v -> bgMode.getValue().equals(BGMode.Custom));

    public static Setting<Boolean> infinite = new Setting<>("Infinite", false, "Makes your chat infinite.");
    public Setting<Boolean> shrug = new Setting<>("Shrug", false);
    public Setting<Boolean> disability = new Setting<>("Disability", false);

    public static final Map<ChatLine, TimeAnimation> animationMap = new HashMap<>();
    @SuppressWarnings("all")
    private static final String[] LAG_MESSAGES = new String[]{
            "\u0101\u0201\u0301\u0401\u0601\u0701\u0801\u0901\u0A01" +
                    "\u0B01\u0E01\u0F01\u1001\u1101\u1201\u1301\u1401\u1501" +
                    "\u1601\u1701\u1801\u1901\u1A01\u1B01\u1C01\u1D01\u1E01" +
                    "\u1F01 \u2101\u2201\u2301\u2401\u2501\u2701\u2801\u2901" +
                    "\u2A01\u2B01\u2C01\u2D01\u2E01\u2F01\u3001\u3101\u3201" +
                    "\u3301\u3401\u3501\u3601\u3701\u3801\u3901\u3A01\u3B01" +
                    "\u3C01\u3D01\u3E01\u3F01\u4001\u4101\u4201\u4301\u4401" +
                    "\u4501\u4601\u4701\u4801\u4901\u4A01\u4B01\u4C01\u4D01" +
                    "\u4E01\u4F01\u5001\u5101\u5201\u5301\u5401\u5501\u5601" +
                    "\u5701\u5801\u5901\u5A01\u5B01\u5C01\u5D01\u5E01\u5F01" +
                    "\u6001\u6101\u6201\u6301\u6401\u6501\u6601\u6701\u6801" +
                    "\u6901\u6A01\u6B01\u6C01\u6D01\u6E01\u6F01\u7001\u7101" +
                    "\u7201\u7301\u7401\u7501\u7601\u7701\u7801\u7901\u7A01" +
                    "\u7B01\u7C01\u7D01\u7E01\u7F01\u8001\u8101\u8201\u8301" +
                    "\u8401\u8501\u8601\u8701\u8801\u8901\u8A01\u8B01\u8C01" +
                    "\u8D01\u8E01\u8F01\u9001\u9101\u9201\u9301\u9401\u9501" +
                    "\u9601\u9701\u9801\u9901\u9A01\u9B01\u9C01\u9D01\u9E01" +
                    "\u9F01\uA001\uA101\uA201\uA301\uA401\uA501\uA601\uA701" +
                    "\uA801\uA901\uAA01\uAB01\uAC01\uAD01\uAE01\uAF01\uB001" +
                    "\uB101\uB201\uB301\uB401\uB501\uB601\uB701\uB801\uB901" +
                    "\uBA01\uBB01\uBC01\uBD01",
            "\u0100\u6B96\u2E2A\u6530\u6D6D\u632E\u6D6F\u2A0A\u612E\u7664\u7369\u726F\u772E\u0A73\u2E2A\u6C61\u6563" +
                    "\u2E73\u656E\u7774\u726F\u0A6B\u2E2A\u7761\u6564\u2E76\u6163\u2A0A\u612E\u757A\u6572\u6F63\u746E\u6961\u656E" +
                    "\u2E72\u6F69\u2A0A\u622E\u0A64\u2E2A\u7A62\u2E7A\u6164\u7070\u2E73\u6165\u7472\u0A68\u2E2A\u6B63\u2A0A\u632E" +
                    "\u736E\u6A2E\u796F\u6E65\u2E74\u6F63\u0A6D\u2E2A\u6F63\u706D\u7475\u2D65\u2E31\u6D61\u7A61\u6E6F\u7761\u2E73" +
                    "\u6F63\u0A6D\u2E2A\u6F63\u706D\u7475\u2E65\u6D61\u7A61\u6E6F\u7761\u2E73\u6F63\u0A6D\u2E2A\u6F63\u706D\u7475" +
                    "\u2E65\u6D61\u7A61\u6E6F\u7761\u2E73\u6F63\u2E6D\u6E63\u2A0A\u632E\u6D6F\u7570\u6574\u652E\u7473\u7461\u0A65" +
                    "\u2E2A\u7263\u7079\u6F74\u6F6E\u696D\u2E63\u656E\u0A74\u2E2A\u7563\u7473\u6D6F\u7265\u6F2D\u6963\u632E\u6D6F" +
                    "\u2A0A\u642E\u7061\u7370\u652E\u7261\u6874\u2A0A\u642E\u7665\u612E\u6F64\u6562\u6561\u636D\u6F6C\u6475\u632E" +
                    "\u6D6F\u2A0A\u642E\u6577\u2E62\u696C\u6B6E\u2A0A\u652E\u626C\u612E\u616D\u6F7A\u616E\u7377\u632E\u6D6F\u2A0A" +
                    "\u652E\u626C\u612E\u616D\u6F7A\u616E\u7377\u632E\u6D6F\u632E\u0A6E\u2E2A\u7265\u2A0A\u652E\u2E78\u7566\u7574" +
                    "\u6572\u6D63\u2E73\u7461\u2A0A\u652E\u2E78\u726F\u7374\u6E69\u6F66\u612E\u0A74\u2E2A\u6B66\u2A0A\u662E\u7475" +
                    "\u7275\u6365\u736D\u612E\u0A74\u2E2A\u6F68\u7473\u6E69\u2E67\u796D\u696A\u6F6E\u722E\u0A75\u2E2A\u6E69\u662E" +
                    "\u7475\u7275\u6365\u736D\u612E\u0A74\u2E2A\u6D6A\u2A0A\u6B2E\u7761\u7361\u6B61\u2E69\u706A\u2A0A\u6B2E\u0A68" +
                    "\u2E2A\u696B\u6174\u796B\u7375\u7568\u6A2E\u0A70\u2E2A\u6F6B\u6562\u6A2E\u0A70\u2E2A\u756B\u646E\u6E65\u6F2E" +
                    "\u7472\u6973\u666E\u2E6F\u7461\u2A0A\u6C2E\u6E61\u6964\u676E\u6D2E\u6A79\u6E69\u2E6F\u7572\u2A0A\u6C2E\u6C63" +
                    "\u642E\u7665\u2A0A\u6D2E\u6761\u6E65\u6F74\u6973\u6574\u632E\u6F6C\u6475\u2A0A\u6D2E\u0A6D\u2E2A\u6F6D\u6E6F" +
                    "\u6373\u6C61\u2E65\u6F69\u2A0A\u6E2E\u6761\u796F\u2E61\u706A\u2A0A\u6E2E\u6D6F\u622E\u0A72\u2E2A\u706E\u2A0A" +
                    "\u6F2E\u6963\u632E\u7375\u6F74\u656D\u2D72\u636F\u2E69\u6F63\u0A6D\u2E2A\u636F\u2E70\u7563\u7473\u6D6F\u7265" +
                    "\u6F2D\u6963\u632E\u6D6F\u2A0A\u6F2E\u7363\u632E\u7375\u6F74\u656D\u2D72\u636F\u2E69\u6F63\u0A6D\u2E2A\u6E6F" +
                    "\u6B2D\u7333\u692E\u0A6F\u2E2A\u6E6F\u722D\u6E61\u6863\u7265\u632E\u6F6C\u6475\u2A0A\u6F2E\u2D6E\u6972\u2E6F" +
                    "\u6F69\u2A0A\u6F2E\u6174\u2E70\u6F63\u2A0A\u702E\u0A67\u2E2A\u6C70\u7461\u6F66\u6D72\u732E\u0A68\u2E2A\u6C70" +
                    "\u7461\u6F66\u6D72\u6873\u732E\u7469\u0A65\u2E2A\u7571\u7069\u6C65\u6D65\u6E65\u7374\u632E\u6D6F\u2A0A\u722E" +
                    "\u612E\u7070\u7073\u746F\u632E\u6D6F\u2A0A\u732E\u7935\u692E\u0A6F\u2E2A\u6173\u7070\u726F\u2E6F\u706A\u2A0A" +
                    "\u732E\u6863\u752E\u0A6B\u2E2A\u6573\u646E\u6961\u6A2E\u0A70\u2E2A\u6573\u736E\u6F69\u6973\u6574\u632E\u6F6C" +
                    "\u6475\u2A0A\u732E\u6570\u7463\u7572\u2E6D\u796D\u696A\u6F6E\u722E\u0A75\u2E2A\u7473\u7461\u6369\u2E73\u6C63" +
                    "\u756F\u0A64\u2E2A\u7473\u2E67\u6564\u0A76\u2E2A\u7473\u6C6F\u736F\u692E\u0A6F\u2E2A\u7973\u2E73\u6371\u2E78" +
                    "\u6F69\u2A0A\u742E\u6C65\u6265\u7469\u782E\u7A79\u2A0A\u742E\u6172\u736E\u7275\u2E6C\u6562\u2A0A\u742E\u6172" +
                    "\u736E\u7275\u2E6C\u7565\u2A0A\u742E\u6172\u736E\u7275\u2E6C\u6C6E\u2A0A\u742E\u6972\u6F74\u2E6E\u6F7A\u656E" +
                    "\u2A0A\u752E\u6562\u7372\u6170\u6563\u642E\u0A65\u2E2A\u7076\u2E73\u796D\u696A\u6F6E\u722E\u0A75\u2E2A\u6577" +
                    "\u6862\u7261\u2E65\u6564\u0A76\u2E2A\u6579\u2A0A\u792E\u6B6F\u686F\u6D61\u2E61\u706A\u300A\u622E\u0A67\u0077" +
                    "\u0061\u0076\u0079\u005F\u0064\u0061\u0073\u0068\u7731\u7777\u632E\u6D6F\u300A\u2E65\u6376\u310A\u622E\u0A67" +
                    "\u3231\u7068\u612E\u0A74\u3231\u7068\u632E\u0A68\u3231\u7068\u642E\u0A65\u3331\u3733\u702E\u6369\u7574\u6572" +
                    "\u0A73\u3631\u622D\u692E\u0A74\u6B31\u7061\u2E70\u6F63\u0A6D\u2E32\u6762\u320A\u0077\u0061\u0076\u0079\u005F" +
                    "\u0064\u0061\u0073\u0068\u2E30\u7568\u320A\u3330\u2E38\u6F69\u320A\u7869\u612E\u0A74\u6932\u2E78\u6863\u320A" +
                    "\u7869\u642E\u0A65\u2E33\u6762\u330A\u2D32\u2E62\u7469\u330A\u7475\u6C69\u7469\u6569\u2E73\u6F63\u0A6D\u2E34" +
                    "\u6762\u340A\u696C\u616D\u612E\u0A74\u6C34\u6D69\u2E61\u6863\u340A\u696C\u616D\u642E\u0A65\u7534\u632E\u6D6F" +
                    "\u350A\u622E\u0A67\u2E36\u6762\u360A\u2D34\u2E62\u7469\u370A\u622E\u0A67\u2E38\u6762\u390A\u622E\u0A67\u6739" +
                    "\u6175\u7563\u622E\u0A72\u2E61\u6762\u610A\u702E\u6F72\u2E64\u6166\u7473\u796C\u6E2E\u7465\u610A\u722E\u6E75" +
                    "\u612E\u7070\u610A\u732E\u0A65\u2E61\u7373\u2E6C\u6166\u7473\u796C\u6E2E\u7465\u610A\u2E61\u6F6E\u610A\u6161" +
                    "\u610A\u6161\u702E\u6F72\u610A\u7261\u6F62\u7472\u2E65\u6F6E\u610A\u7261\u0A70\u6261\u632E\u0A61\u6261\u7261" +
                    "\u6874\u610A\u6162\u6873\u7269\u2E69\u6F68\u6B6B\u6961\u6F64\u6A2E\u0A70\u6261\u0A62\u6261\u6F62\u7474\u610A" +
                    "\u6262\u6976\u0A65\u6261\u0A63\u6261\u2E63\u7262\u610A\u6562\u6F6E\u6F2E\u6173\u616B\u6A2E\u0A70\u6261\u6B69" +
                    "\u2E6F\u6863\u6269\u2E61\u706A\u610A\u6962\u6172\u682E\u6B6F\u616B\u6469\u2E6F\u706A\u610A\u6B62\u6168\u697A" +
                    "\u2E61\u7573\u610A\u6C62\u0A65\u6261\u2E6F\u6170\u610A\u6F62\u6167\u6F64\u610A\u7262\u692E\u0A74\u6261\u7572" +
                    "\u7A7A\u2E6F\u7469\u610A\u7562\u792E\u6D61\u6761\u6375\u6968\u6A2E\u0A70\u6261\u6475\u6168\u6962\u610A\u0A63" +
                    "\u6361\u612E\u0A65\u6361\u612E\u0A74\u6361\u622E\u0A65\u6361\u632E\u0A69\u6361\u632E\u0A6E\u6361\u632E\u0A72" +
                    "\u6361\u632E\u0A79\u6361\u662E\u0A6A\u6361\u672E\u0A6E\u6361\u672E\u766F\u622E\u0A72\u6361\u692E\u0A64\u6361" +
                    "\u692E\u0A6C\u6361\u692E\u0A6D\u6361\u692E\u0A6E\u6361\u692E\u0A72\u6361\u6A2E\u0A70\u6361\u6B2E\u0A65\u6361" +
                    "\u6B2E\u0A72\u6361\u6C2E\u6765\u622E\u0A72\u6361\u6C2E\u0A6B\u6361\u6C2E\u0A73\u6361\u6D2E\u0A61\u6361\u6D2E" +
                    "\u0A65\u6361\u6D2E\u0A75\u6361\u6D2E\u0A77\u6361\u6D2E\u0A7A\u6361\u6E2E\u0A69\u6361\u6E2E\u0A7A\u6361\u702E" +
                    "\u0A61\u6361\u702E\u0A72\u6361\u722E\u0A73\u6361\u722E\u0A75\u6361\u722E\u0A77\u6361\u732E\u0A65\u6361\u732E" +
                    "\u0A7A\u6361\u742E\u0A68\u6361\u742E\u0A6A\u6361\u742E\u0A7A\u6361\u752E\u0A67\u6361\u752E\u0A6B\u6361\u762E" +
                    "\u0A6E\u6361\u7A2E\u0A61\u6361\u7A2E\u0A6D\u6361\u7A2E\u0A77\u6361\u2E61\u7270\u0A6F\u6361\u6461\u6D65\u6169" +
                    "\u622E\u0A6F\u6361\u6461\u6D65\u0A79\u6361\u6461\u6D65\u2E79\u756D\u6573\u6D75\u610A\u6363\u6E65\u7574\u6572" +
                    "\u610A\u6363\u7365\u6373\u6D61\u6F2E\u6772\u610A\u6363\u6469\u6E65\u2D74\u6E69\u6576\u7473\u6769\u7461\u6F69" +
                    "\u2E6E\u6561\u6F72\u610A\u6363\u6469\u6E65\u2D74\u7270\u7665\u6E65\u6974\u6E6F\u612E\u7265\u0A6F\u6361\u6F63" +
                    "\u6E75\u6174\u746E\u610A\u6363\u756F\u746E\u6E61\u7374\u610A\u6363\u2E74\u7270\u0A6F\u6361\u6968\u6E2E\u6761" +
                    "\u6E61\u2E6F\u706A\u610A\u6F63\u610A\u7463\u612E\u0A75\u6361\u2E74\u6465\u2E75\u7561\u610A\u7463\u726F\u610A" +
                    "\u0A64\u6461\u6A2E\u0A70\u6461\u6361\u610A\u6164\u6863\u2E69\u6F74\u796B\u2E6F\u706A\u610A\u6D64\u622E\u0A72" +
                    "\u6461\u626F\u6165\u6D65\u6C63\u756F\u2E64\u6F63\u0A6D\u6461\u626F\u6165\u6D65\u6C63\u756F\u2E64\u656E\u0A74" +
                    "\u6461\u0A73\u6461\u6C75\u0A74\u6461\u6C75\u2E74\u7468\u610A\u7664\u622E\u0A72\u6461\u2E76\u7A6D\u610A\u7964" +
                    "\u6567\u6179\u722E\u0A75\u6461\u6779\u7965\u2E61\u7573\u610A\u0A65\u6561\u6F2E\u6772\u610A\u6765\u610A\u6A65" +
                    "\u6972\u2E65\u6F6E\u610A\u7265\u0A6F\u6561\u6F72\u6D2E\u0A76\u6561\u6F72\u742E\u0A74\u6561\u6F72\u6162\u6974" +
                    "\u2E63\u6561\u6F72\u610A\u7265\u636F\u756C\u2E62\u6561\u6F72\u610A\u7265\u646F\u6F72\u656D\u612E\u7265\u0A6F" +
                    "\u6561\u6F72\u6F70\u7472\u662E\u0A72\u6561\u6E74\u0A61\u6661\u610A\u6166\u696D\u796C\u6F63\u706D\u6E61\u0A79" +
                    "\u6661\u6F6A\u6472\u6E2E\u0A6F\u6661\u0A6C\u6661\u6972\u6163\u610A\u7266\u6369\u2E61\u6F63\u0A6D\u6761\u610A" +
                    "\u2E67\u7469\u610A\u6167\u6E2E\u6969\u6167\u6174\u6A2E\u0A70\u6761\u6B61\u6168\u0A6E\u6761\u6E61\u2E6F\u696E" +
                    "\u6769\u7461\u2E61\u706A\u610A\u6467\u6E65\u7365\u6E2E\u0A6F\u6761\u6D65\u7461\u7573\u6E2E\u6761\u6E61\u2E6F" +
                    "\u706A\u610A\u6567\u636E\u0A79\u6761\u6E65\u7374\u612E\u7265\u0A6F\u6761\u2E72\u7262\u610A\u7267\u7261\u682E" +
                    "\u0A75\u6761\u6972\u2E63\u617A\u610A\u7267\u6369\u6C75\u7574\u6572\u6D2E\u7375\u7565\u0A6D\u6761\u6972\u6567" +
                    "\u746E\u2E6F\u7469\u610A\u7267\u6E69\u7465\u742E\u0A6E\u6761\u6F72\u622E\u0A6F\u6761\u6F72\u702E\u0A6C\u6761" +
                    "\u6E75\u2E69\u6B6F\u6E69\u7761\u2E61\u706A\u610A\u2E68\u6E63\u610A\u2E68\u6F6E\u610A\u0A69\u6961\u6562\u7374" +
                    "\u2E75\u6F68\u6B6B\u6961\u6F64\u6A2E\u0A70\u6961\u6863\u2E69\u706A\u610A\u6469\u702E\u0A6C\u6961\u0A67\u6961" +
                    "\u6F67\u610A\u6B69\u7761\u2E61\u616B\u616E\u6167\u6177\u6A2E\u0A70\u6961\u616E\u2E6E\u6865\u6D69\u2E65\u706A" +
                    "\u610A\u6F69\u2E69\u7968\u676F\u2E6F\u706A\u610A\u7069\u652E\u0A65\u6961\u2D72\u7573\u7672\u6965\u6C6C\u6E61" +
                    "\u6563\u612E\u7265\u0A6F\u6961\u2D72\u7274\u6661\u6966\u2D63\u6F63\u746E\u6F72\u2E6C\u6561\u6F72\u610A\u7269" +
                    "\u6D2E\u7375\u7565\u0A6D\u6961\u6272\u7375\u610A\u7269\u7263\u6661\u2E74\u6561\u6F72\u610A\u7269\u6F66\u6372" +
                    "\u0A65\u6961\u6772\u6175\u6472\u6D2E\u7375\u7565\u0A6D\u6961\u6C72\u6E69\u2E65\u6561\u6F72\u610A\u7269\u6F70" +
                    "\u7472\u612E\u7265\u0A6F\u6961\u7472\u6C65\u610A\u7269\u7274\u6661\u6966\u2E63\u6561\u6F72\u610A\u7369\u6961" +
                    "\u612E\u6369\u6968\u6A2E\u0A70\u6961\u6873\u2E6F\u6873\u6769\u2E61\u706A\u610A\u7A69\u6275\u6E61\u6567\u662E" +
                    "\u6B75\u7375\u6968\u616D\u6A2E\u0A70\u6961\u757A\u696D\u742E\u6B6F\u7375\u6968\u616D\u6A2E\u0A70\u6961\u757A" +
                    "\u696D\u6173\u6F74\u662E\u6B75\u7375\u6968\u616D\u6A2E\u0A70\u6961\u757A\u6177\u616B\u616D\u7374\u2E75\u7566" +
                    "\u756B\u6873\u6D69\u2E61\u706A\u610A\u756A\u622E\u0A72\u6B61\u752E\u0A73\u6B61\u6261\u7269\u2E61\u6F68\u6B6B" +
                    "\u6961\u6F64\u6A2E\u0A70\u6B61\u6761\u2E69\u6873\u6D69\u6E61\u2E65\u706A\u610A\u616B\u7769\u2E61\u6B6F\u7961" +
                    "\u6D61\u2E61\u706A\u610A\u616B\u6873\u2E69\u7968\u676F\u2E6F\u706A\u610A\u646B\u0A6E\u6B61\u2E69\u6F6B\u6863" +
                    "\u2E69\u706A\u610A\u696B\u7572\u6F6E\u742E\u6B6F\u6F79\u6A2E\u0A70\u6B61\u7369\u6968\u616D\u742E\u6B6F\u6F79" +
                    "\u6A2E\u0A70\u6B61\u7469\u2E61\u6B61\u7469\u2E61\u706A\u610A\u696B\u6174\u6A2E\u0A70\u6B61\u656B\u6873\u2E69" +
                    "\u6F68\u6B6B\u6961\u6F64\u6A2E\u0A70\u6B61\u6F6E\u756C\u6B6F\u6174\u6E2E\u0A6F\u6B61\u2E6F\u7968\u676F\u2E6F" +
                    "\u706A\u610A\u726B\u6865\u6D61\u2E6E\u6F6E\u610A\u746B\u7579\u6962\u736E\u2E6B\u7573\u610A\u756B\u656E\u6B2E" +
                    "\u6761\u736F\u6968\u616D\u6A2E\u0A70\u6C61\u610A\u2E6C\u7565\u6F2E\u6772\u610A\u2E6C\u6F67\u2E76\u7262\u610A" +
                    "\u2E6C\u7469\u610A\u2E6C\u656C\u2E67\u7262\u610A\u2E6C\u6F6E\u610A\u2E6C\u7375\u610A\u616C\u6162\u616D\u6D2E" +
                    "\u7375\u7565\u0A6D\u6C61\u6861\u6165\u6A64\u2E75\u6F6E\u610A\u616C\u646E\u662E\u0A69\u6C61\u7361\u616B\u6D2E" +
                    "\u7375\u7565\u0A6D\u6C61\u7365\u6173\u646E\u6972\u2E61\u7469\u610A\u656C\u7573\u646E\u6E2E\u0A6F\u6C61\u6166" +
                    "\u6F72\u656D\u0A6F\u6C61\u6167\u6472\u6E2E\u0A6F\u6C61\u6269\u6261\u0A61\u6C61\u7069\u7961\u610A\u6C6C\u6966" +
                    "\u616E\u7A6E\u610A\u6C6C\u7473\u7461\u0A65\u6C61\u796C\u610A\u706C\u6168\u6D2D\u7179\u616E\u6370\u6F6C\u6475" +
                    "\u632E\u6D6F\u610A\u706C\u6168\u622E\u756F\u746E\u2D79\u7566\u6C6C\u632E\u6D6F\u610A\u736C\u6361\u0A65\u6C61" +
                    "\u7473\u6861\u7561\u2E67\u6F6E\u610A\u736C\u6F74\u0A6D\u6C61\u2E74\u617A\u610A\u746C\u2E61\u6F6E\u610A\u746C" +
                    "\u7265\u6976\u7473\u2E61\u726F\u0A67\u6C61\u6F74\u612D\u6964\u6567\u692E\u0A74\u6C61\u6F74\u6461\u6769\u2E65" +
                    "\u7469\u610A\u766C\u6164\u2E6C\u6F6E\u610A\u776C\u7961\u6473\u7461\u2E61\u656E\u0A74\u6D61\u610A\u2E6D\u7262" +
                    "\u610A\u2E6D\u6F67\u2E76\u7262\u610A\u2E6D\u6F67\u2E76\u7262\u610A\u2E6D\u6F67\u2E76\u7262\u610A\u2E6D\u6F67" +
                    "\u2E76\u7262\u610A\u2E6D\u6F67\u2E76\u7262\u610A\u2E6D\u6F67\u2E76\u7262\u610A\u2E6D\u6F67\u2E76\u7262"
            ,
            "\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66\u0020\u7261\u0020\u30DE\u0020\u30AD\u0020\u30B0\u0020\u30CA\u0020\u30EB\u0020\u30D5\u0020\u30A1\u0020\u7CFB\u0020\u8DEF\u0020\u514B\u0020\u745E\u0020\u5927\u0020\u962A\u0020\u5E02\u0020\u7ACB\u0020\u5B66"
    };

    public Chat() {
        super("Chat", "Modifies your chat.", Category.CHAT);
        setInstance();
    }

    public static Chat getInstance() {
        if (INSTANCE == null) {
            INSTANCE = new Chat();
        }
        return INSTANCE;
    }

    private void setInstance() {
        INSTANCE = this;
    }

    @Override
    public void onUpdate() {
        if (shrug.getValue()) {
            Chat.mc.player.sendChatMessage(TextUtil.shrug);
            shrug.setValue(false);
        }
        if (loadPopLag.getValue()) {
            for (String mes : LAG_MESSAGES) {
                Command.sendMessage(mes);
            }
            loadPopLag.setValue(false);
        }
        if (disability.getValue()) {
            Chat.mc.player.sendChatMessage(TextUtil.disability);
            disability.setValue(false);
        }

    }

    @EventListener
    public void onTotemPop(TotemPopEvent event) {
        if (!friendManager.isFriend(event.getEntity())
                && mc.player != event.getEntity()
                && popLag.getValue()) {
            mc.player.connection.sendPacket(new CPacketChatMessage("/msg " + event.getEntity().getName() + " " + LAG_MESSAGES[normal(event.getPops())]));

        }

    }

    public int normal(int old) {
        if(old > LAG_MESSAGES.length + 1) return new Random().nextInt(LAG_MESSAGES.length);
        return old - 1;
    }

    @EventListener
    public void onPacketSend(PacketEvent.Send event) {
        if (event.getStage() == 0 && event.getPacket() instanceof CPacketChatMessage) {
            CPacketChatMessage packet = event.getPacket();
            String s = packet.getMessage();
            if (s.startsWith("/")) {
                return;
            }
            switch (suffix.getValue()) {
                case ForeverClient: {
                    s = s +  (check() ? " &r" : " ")   + "\u23d0\u0020\ua730\u1d0f\u0280\u1d07\u1d20\u1d07\u0280\u0020\u1d04\u029f\u026a\u1d07\u0274\u1d1b";
                    break;
                }
                case Forever: {
                    s = s +  (check() ? " &r" : " ")   + "\u23d0\u0020\u1d1b\u029c\u1d07\u0020\u0020\ua730\u1d0f\u0280\u1d07\u1d20\u1d07\u0280";
                    break;
                }
                case Custom: {
                    s = s + (check() ? " &r" : " ")   + customSuffix.getValue();
                }
            }

            if (s.length() >= 256) {
                s = s.substring(0, 256);
            }
            packet.message = s;
        }
        if (customColor.getValue() != CustomColor.None) {
            if (event.getStage() == 0 && event.getPacket() instanceof CPacketChatMessage) {
                CPacketChatMessage packet = event.getPacket();
                String s = packet.getMessage();
                if (s.startsWith("/")) {
                    return;
                }
                s = customColor.getValue().getValue() + textMod.getValue().getValue() +" " +s;
                if (s.length() >= 256) {
                    s = s.substring(0, 256);
                }
                packet.message = s;
            }
        }
    }

    public boolean check() {
        return !textMod.getValue().equals(TextMod.None)
                || customColor.getValue().equals(CustomColor.Aqua)
                || customColor.getValue().equals(CustomColor.Black)
                || customColor.getValue().equals(CustomColor.Gray)
                || customColor.getValue().equals(CustomColor.Gold)
                || customColor.getValue().equals(CustomColor.Green)
                || customColor.getValue().equals(CustomColor.Blue)
                || customColor.getValue().equals(CustomColor.DarkRed)
                || customColor.getValue().equals(CustomColor.Red)
                || customColor.getValue().equals(CustomColor.Obfuscated)
                || customColor.getValue().equals(CustomColor.Purple)
                || customColor.getValue().equals(CustomColor.DarkPurple);
    }

    public enum TextMod {
        None(" "),
        Bold("l"),
        Italic("o"),
        BoldItalic("l&o"),
        StrikeThrough("m"),
        Underline("n");

        private final String value;

        TextMod(String c) {
            if(Objects.equals(c, " ")) value = "";
            else value = "&" + c;
        }

        public String getValue() {
            return value;
        }
    }
    public enum CustomColor {
        None('f',false),
        Black('0',false),
        BlackNormal(']',true),
        DarkGray('8',false),
        Gray('7',false),
        GrayNormal('[',true),
        DarkBlue('1',false),
        Blue('9',false),
        DarkGreen('2',false),
        Green('a',false),
        NormalGreen('>',true),
        DarkAqua('3',false),
        DarkAquaNormal(';',true),
        Aqua('b',false),
        AquaNormal(':',true),
        DarkRed('4',false),
        Red('c',false),
        RedNormal('<',true),
        DarkPurple('5',false),
        Purple('d',false),
        Gold('6',false),
        GoldNormal(',',true),
        Yellow('e',false),
        YellowNormal('!',true),
        Obfuscated('k',false);

        private final String value;

        CustomColor(char c,boolean bypass) {
            if(bypass) value = String.valueOf(c);
            else value = "&" + c;
        }

        public String getValue() {
            return value;
        }
    }

    public enum Rainbow {
        //   Custom,
        Rainbow
    }

    public enum Suffix {
        None,
        ForeverClient,
        Forever,
        Custom,

    }

    public enum BGMode {
        Default,
        Custom,
        Clean
    }
}

